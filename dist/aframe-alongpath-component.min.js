!function(t){function a(i){if(e[i])return e[i].exports;var s=e[i]={exports:{},id:i,loaded:!1};return t[i].call(s.exports,s,s.exports,a),s.loaded=!0,s.exports}var e={};return a.m=t,a.c=e,a.p="",a(0)}([function(t,a){if("undefined"==typeof AFRAME)throw new Error("Component attempted to register before AFRAME was available.");AFRAME.registerComponent("alongpath",{schema:{path:{"default":""},closed:{"default":!1},dur:{"default":1e3},delay:{"default":2e3},loop:{"default":!1}},init:function(){this.data.initialPosition=this.el.getAttribute("position")},update:function(t){if(t.path!=this.data.path){var a=this.data.path.split(" ").map(function(t){return t=t.split(","),new THREE.Vector3(parseFloat(t[0]),parseFloat(t[1]),parseFloat(t[2]))}),e=new THREE.CatmullRomCurve3(a);e.closed=this.data.closed,this.data.curve=e,this.data.interval=0,this.el.removeState("endofpath")}},tick:function(t,a){if(!this.el.is("endofpath")){this.data.interval=this.data.interval+a;var e=0;e=this.data.interval-this.data.delay>=this.data.dur?1:this.data.interval-this.data.delay<0?0:(this.data.interval-this.data.delay)/this.data.dur;try{if(this.data.loop===!1&&e>=1)this.el.removeState("moveonpath"),this.el.addState("endofpath"),this.data.closed?this.el.setAttribute("position",this.data.curve.points[0]):this.el.setAttribute("position",this.data.curve.points[this.data.curve.points.length-1]);else if(this.data.loop===!0&&e>=1)this.data.interval=this.data.delay;else{var i=this.data.curve.getPoint(e);this.el.setAttribute("position",i),this.el.is("moveonpath")||this.el.addState("moveonpath")}}catch(s){}}},remove:function(){this.el.setAttribute("position",this.data.initialPosition)}})}]);